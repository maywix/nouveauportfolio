{"ast":null,"code":"var __esDecorate = this && this.__esDecorate || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\nvar __runInitializers = this && this.__runInitializers || function (thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\nimport { Component, EventEmitter, Output, ViewChild } from '@angular/core';\nimport gsap from 'gsap';\nlet IntroOverlayComponent = (() => {\n  let _classDecorators = [Component({\n    selector: 'app-intro-overlay',\n    standalone: true,\n    templateUrl: './intro-overlay.component.html',\n    styleUrl: './intro-overlay.component.css'\n  })];\n  let _classDescriptor;\n  let _classExtraInitializers = [];\n  let _classThis;\n  let _closed_decorators;\n  let _closed_initializers = [];\n  let _closed_extraInitializers = [];\n  let _overlayRef_decorators;\n  let _overlayRef_initializers = [];\n  let _overlayRef_extraInitializers = [];\n  let _videoRef_decorators;\n  let _videoRef_initializers = [];\n  let _videoRef_extraInitializers = [];\n  var IntroOverlayComponent = class {\n    static {\n      _classThis = this;\n    }\n    static {\n      const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n      _closed_decorators = [Output()];\n      _overlayRef_decorators = [ViewChild('overlay', {\n        static: true\n      })];\n      _videoRef_decorators = [ViewChild('introVideo', {\n        static: false\n      })];\n      __esDecorate(null, null, _closed_decorators, {\n        kind: \"field\",\n        name: \"closed\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"closed\" in obj,\n          get: obj => obj.closed,\n          set: (obj, value) => {\n            obj.closed = value;\n          }\n        },\n        metadata: _metadata\n      }, _closed_initializers, _closed_extraInitializers);\n      __esDecorate(null, null, _overlayRef_decorators, {\n        kind: \"field\",\n        name: \"overlayRef\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"overlayRef\" in obj,\n          get: obj => obj.overlayRef,\n          set: (obj, value) => {\n            obj.overlayRef = value;\n          }\n        },\n        metadata: _metadata\n      }, _overlayRef_initializers, _overlayRef_extraInitializers);\n      __esDecorate(null, null, _videoRef_decorators, {\n        kind: \"field\",\n        name: \"videoRef\",\n        static: false,\n        private: false,\n        access: {\n          has: obj => \"videoRef\" in obj,\n          get: obj => obj.videoRef,\n          set: (obj, value) => {\n            obj.videoRef = value;\n          }\n        },\n        metadata: _metadata\n      }, _videoRef_initializers, _videoRef_extraInitializers);\n      __esDecorate(null, _classDescriptor = {\n        value: _classThis\n      }, _classDecorators, {\n        kind: \"class\",\n        name: _classThis.name,\n        metadata: _metadata\n      }, null, _classExtraInitializers);\n      IntroOverlayComponent = _classThis = _classDescriptor.value;\n      if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: _metadata\n      });\n      __runInitializers(_classThis, _classExtraInitializers);\n    }\n    constructor(zone) {\n      this.zone = zone;\n      this.closed = __runInitializers(this, _closed_initializers, new EventEmitter());\n      this.overlayRef = (__runInitializers(this, _closed_extraInitializers), __runInitializers(this, _overlayRef_initializers, void 0));\n      this.videoRef = (__runInitializers(this, _overlayRef_extraInitializers), __runInitializers(this, _videoRef_initializers, void 0));\n      this.hideTimeoutId = __runInitializers(this, _videoRef_extraInitializers);\n      this.hasClosed = false;\n    }\n    ngAfterViewInit() {\n      this.attachVideoListeners();\n      this.scheduleFallbackHide();\n    }\n    ngOnDestroy() {\n      if (this.hideTimeoutId) {\n        window.clearTimeout(this.hideTimeoutId);\n      }\n    }\n    onSkip(event) {\n      event.preventDefault();\n      this.hideOverlay();\n    }\n    attachVideoListeners() {\n      const video = this.videoRef?.nativeElement;\n      if (!video) {\n        this.hideOverlay();\n        return;\n      }\n      video.addEventListener('error', () => this.hideOverlay());\n      video.addEventListener('ended', () => this.hideOverlay());\n    }\n    scheduleFallbackHide() {\n      this.zone.runOutsideAngular(() => {\n        this.hideTimeoutId = window.setTimeout(() => {\n          const video = this.videoRef?.nativeElement;\n          if (!video || video.readyState < 2) {\n            this.hideOverlay();\n          }\n        }, 3000);\n      });\n    }\n    hideOverlay() {\n      if (this.hasClosed) {\n        return;\n      }\n      this.hasClosed = true;\n      const overlayEl = this.overlayRef.nativeElement;\n      const video = this.videoRef?.nativeElement;\n      this.zone.runOutsideAngular(() => {\n        gsap.to(overlayEl, {\n          autoAlpha: 0,\n          duration: 0.6,\n          onComplete: () => {\n            overlayEl.classList.add('hidden');\n            this.zone.run(() => {\n              this.closed.emit();\n            });\n          }\n        });\n        try {\n          video?.pause();\n        } catch (error) {\n          console.warn('Unable to pause intro video', error);\n        }\n      });\n    }\n  };\n  return IntroOverlayComponent = _classThis;\n})();\nexport { IntroOverlayComponent };","map":{"version":3,"names":["Component","EventEmitter","Output","ViewChild","gsap","IntroOverlayComponent","selector","standalone","templateUrl","styleUrl","static","__esDecorate","_closed_decorators","kind","name","private","access","has","obj","get","closed","set","value","metadata","_metadata","_closed_initializers","_closed_extraInitializers","_overlayRef_decorators","overlayRef","_overlayRef_initializers","_overlayRef_extraInitializers","_videoRef_decorators","videoRef","_videoRef_initializers","_videoRef_extraInitializers","_classDescriptor","_classThis","_classDecorators","_classExtraInitializers","__runInitializers","constructor","zone","hideTimeoutId","hasClosed","ngAfterViewInit","attachVideoListeners","scheduleFallbackHide","ngOnDestroy","window","clearTimeout","onSkip","event","preventDefault","hideOverlay","video","nativeElement","addEventListener","runOutsideAngular","setTimeout","readyState","overlayEl","to","autoAlpha","duration","onComplete","classList","add","run","emit","pause","error","console","warn"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/sitevassil/Sans titre/nouveauportfolio/src/app/components/intro-overlay/intro-overlay.component.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  NgZone,\n  OnDestroy,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport gsap from 'gsap';\n\n@Component({\n  selector: 'app-intro-overlay',\n  standalone: true,\n  templateUrl: './intro-overlay.component.html',\n  styleUrl: './intro-overlay.component.css'\n})\nexport class IntroOverlayComponent implements AfterViewInit, OnDestroy {\n  @Output() closed = new EventEmitter<void>();\n\n  @ViewChild('overlay', { static: true })\n  private overlayRef!: ElementRef<HTMLDivElement>;\n\n  @ViewChild('introVideo', { static: false })\n  private videoRef?: ElementRef<HTMLVideoElement>;\n\n  private hideTimeoutId?: number;\n  private hasClosed = false;\n\n  constructor(private readonly zone: NgZone) {}\n\n  ngAfterViewInit(): void {\n    this.attachVideoListeners();\n    this.scheduleFallbackHide();\n  }\n\n  ngOnDestroy(): void {\n    if (this.hideTimeoutId) {\n      window.clearTimeout(this.hideTimeoutId);\n    }\n  }\n\n  onSkip(event: Event): void {\n    event.preventDefault();\n    this.hideOverlay();\n  }\n\n  private attachVideoListeners(): void {\n    const video = this.videoRef?.nativeElement;\n    if (!video) {\n      this.hideOverlay();\n      return;\n    }\n\n    video.addEventListener('error', () => this.hideOverlay());\n    video.addEventListener('ended', () => this.hideOverlay());\n  }\n\n  private scheduleFallbackHide(): void {\n    this.zone.runOutsideAngular(() => {\n      this.hideTimeoutId = window.setTimeout(() => {\n        const video = this.videoRef?.nativeElement;\n        if (!video || video.readyState < 2) {\n          this.hideOverlay();\n        }\n      }, 3000);\n    });\n  }\n\n  private hideOverlay(): void {\n    if (this.hasClosed) {\n      return;\n    }\n    this.hasClosed = true;\n\n    const overlayEl = this.overlayRef.nativeElement;\n    const video = this.videoRef?.nativeElement;\n\n    this.zone.runOutsideAngular(() => {\n      gsap.to(overlayEl, {\n        autoAlpha: 0,\n        duration: 0.6,\n        onComplete: () => {\n          overlayEl.classList.add('hidden');\n          this.zone.run(() => {\n            this.closed.emit();\n          });\n        }\n      });\n\n      try {\n        video?.pause();\n      } catch (error) {\n        console.warn('Unable to pause intro video', error);\n      }\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}